!function(){function t(t){var e,i=document.getElementsByTagName("script");for(var r in i)if(i.hasOwnProperty(r))for(var l=0;l<t.length;l++)if(i[r].src.indexOf(t[l])>=0){e=i[r],n.baseUrlMainWidget="https://"+t[l]+"/lpt_widget/out/main.min.js?"+n.gitVersion,n.baseUrlApiWidget="https://"+t[l];break}return e}function e(t){var e=parseInt(t.src.split("/").pop());return window.lptWg.chatClientToken=t.getAttribute("data-chat-token"),window.lptWg.telegramToken=t.getAttribute("data-telegram-token"),isNaN(e)&&(e=t.getAttribute("data-id")),e}function i(t){var e=document.createElement("script");e.onload=function(){"function"==typeof window.lptWg.start&&window.lptWg.start(t,n.baseUrlApiWidget,n.gitVersion,r)},e.src=n.baseUrlMainWidget,e.charset="utf-8",document.head.appendChild(e)}var n={urlStartWidget:"staging.stats.lptracker.ru,stats.lptracker.ru,stats.lptracker.io,crm-track.space,lpt-crm.online".split(","),baseUrlApiWidget:"",baseUrlMainWidget:"",gitVersion:"2.25.8-revert-17-g3b01721517-dirty"},r=[],l=[].slice,s=["ready"];Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var l=Object.keys(Object(r)),s=0,o=l.length;s<o;s++){var a=l[s],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(i[a]=r[a])}}return i}}),window.lptWg=window.lptWg||{},Object.assign(window.lptWg,{on:function(t,e){var i,n,r,l,o,a,c,g,h;for(n=t.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),r=0,l=n.length;r<l;r++)if(o=n[r],(i=this._callbacks)[o]||(i[o]=[]),this._callbacks[o].push(e),s.indexOf(o)!==-1)for(h=null!=(g=this._replays)?g[o]:[],a=0,c=h.length;a<c;a++)e.apply(this,h[a]);return this},one:function(t,e){var i;return this.on(t,i=function(){return this.off(t,i),e.apply(this,arguments)})},trigger:function(){var t,e,i,n,r,o,a,c;if(t=1<=arguments.length?l.call(arguments,0):[],i=t.shift(),o=null!=(a=this._callbacks)?a[i]:void 0){for(s.indexOf(i)!==-1&&(this.hasOwnProperty("_replays")||this._replays||(this._replays={}),(c=this._replays)[i]||(c[i]=[]),this._replays[i].push(t)),n=0,r=o.length;n<r&&(e=o[n],e.apply(this,t)!==!1);n++);return!0}},listenTo:function(t,e,i){return t.on(e,i),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:t,ev:e,callback:i}),this},listenToOnce:function(t,e,i){var n,r;return r=this.listeningToOnce||(this.listeningToOnce=[]),t.on(e,n=function(){var l,s,o,a,c;for(s=-1,l=o=0,a=r.length;o<a;l=++o)c=r[l],c.obj===t&&c.ev===e&&c.callback===n&&(s=l);return t.off(e,n),s!==-1&&r.splice(s,1),i.apply(this,arguments)}),r.push({obj:t,ev:e,callback:n}),this},stopListening:function(t,e,i){var n,r,l,s,o,a,c,g,h,f,p,u,d,b,v,w,k,m;if(0===arguments.length){for(w=[this.listeningTo,this.listeningToOnce],o=0,g=w.length;o<g;o++)if(u=w[o],null!=u?u.length:void 0)for(a=0,h=u.length;a<h;a++)d=u[a],d.obj.off(d.ev,d.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(t)for(e=e?e.split(" "):[void 0],k=[this.listeningTo,this.listeningToOnce],c=0,f=k.length;c<f;c++)if(u=k[c])for(b=0,p=e.length;b<p;b++)for(r=e[b],s=v=m=u.length-1;m<=0?v<=0:v>=0;s=m<=0?++v:--v)d=u[s],d.obj===t&&(i&&d.callback!==i||(r&&r!==d.ev?r&&(l=d.ev.split(" "),indexOf.call(l,r)>=0&&(l=function(){var t,e,i;for(i=[],e=0,t=l.length;e<t;e++)n=l[e],n!==r&&i.push(n);return i}(),d.ev=l.join(" ").trim(),d.obj.off(r,d.callback))):(d.obj.off(d.ev,d.callback),s!==-1&&u.splice(s,1))));return this},off:function(t,e){var i,n,r,l,s,o,a,c,g,h;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(n=t.split(" "),l=0,o=n.length;l<o;l++)if(g=n[l],c=null!=(h=this._callbacks)?h[g]:void 0)if(e){for(r=s=0,a=c.length;s<a;r=++s)if(i=c[r],i===e){c=c.slice(),c.splice(r,1),this._callbacks[g]=c;break}}else delete this._callbacks[g];return this}}),window.lptWg.on("ready",function(){console.log("Виджет для проекта "+window.lptWg.siteId+" запущен",arguments)}),window.addEventListener("error",function(t){var e="message: "+t.message+";\n filename: "+t.filename+";\n lineno: "+t.lineno+";\n colno: "+t.colno+";\n "+(t.error?"stack:\n "+t.error.stack:""),i={errorMsg:e,url:t.filename};r.push(i),console.log(i)});var o=document.getElementById("lpt-widget");o||(o=t(n.urlStartWidget)),window.lptWg.projectId=window.lptWg.projectId||e(o),i(window.lptWg.projectId)}();